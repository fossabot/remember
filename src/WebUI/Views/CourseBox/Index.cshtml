@using Domain
@{
	IList<CourseBoxTable> iLearnCourseBoxTableList = ViewBag.ILearnCourseBoxTableList;
	IList<CourseBox> iLearnCourseBoxList = iLearnCourseBoxTableList.Select(m => m.CourseBox).ToList();
	IList<CourseBox> iCreateCourseBoxList = ViewBag.ICreateCourseBoxList;
}

<!DOCTYPE html>

<html>
<head>
	<meta name="viewport" content="width=device-width" />
	<title>课程首页</title>
	<link href="/assets/libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link href="/assets/libs/mdui/dist/css/mdui.min.css" rel="stylesheet" />
	<link href="/assets/libs/senna/build/senna.css" rel="stylesheet" />
	<link href="/assets/css/app.css" rel="stylesheet" />
</head>
<body class="mdui-appbar-with-toolbar mdui-appbar-with-tab mdui-theme-primary-teal mdui-bottom-nav-fixed">
	<!-- 头部 -->
	<header class="mdui-appbar mdui-appbar-fixed">
		<div class="mdui-toolbar mdui-color-white mdui-text-color-theme">
			<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">navigate_before</i></a>
			<a id="js-refresh" href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">refresh</i></a>
			<a href="javascript:;" class="mdui-typo-title">课程首页</a>
			<div class="mdui-toolbar-spacer"></div>
			<a class="mdui-btn mdui-btn-icon" href="/CourseBox/Search"><i class="mdui-icon material-icons">search</i></a>
			<a id="js-btn-more-menu" href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-menu="{target: '#js-more-menu'}"><i class="mdui-icon material-icons">more_vert</i></a>
			<ul id="js-more-menu" class="mdui-menu">
				<li class="mdui-menu-item">
					<a href="/CourseBox/Create" class="mdui-ripple">
						<i class="mdui-menu-item-icon mdui-icon material-icons">add</i>创建课程
					</a>
				</li>
				<li class="mdui-divider"></li>
				<li class="mdui-menu-item">
					<a href="javascript:;" class="mdui-ripple">
						<i class="mdui-menu-item-icon mdui-icon material-icons">mood_bad</i>举报
					</a>
				</li>
			</ul>
		</div>
		<div class="mdui-tab mdui-color-white mdui-text-color-theme" mdui-tab>
			<a href="#js-tab1" class="mdui-ripple mdui-ripple-white">全部</a>
			<a href="#js-tab2" class="mdui-ripple mdui-ripple-white">我的学习</a>
			<a href="#js-tab3" class="mdui-ripple mdui-ripple-white">我创建的</a>
		</div>
	</header>
	<!-- 内容 -->
	<div class="mdui-container" style="padding-right: 0;padding-left: 0;">
		<div class="mdui-row">
			<div class="mdui-col-xs-12 mdui-col-md-6 mdui-col-offset-md-3" style="padding-right: 0;padding-left: 0;">
				<div id="js-tab1">
					<div class="mdui-col-xs-12" style="padding-right: 0;padding-left: 0;">
						<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
							<!-- 指示符 -->
							<ul class="carousel-indicators">
								<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
							</ul>
							<!-- 轮播图片 -->
							<div class="carousel-inner">
								<div class="carousel-item active">
									<img class="d-block w-100" src="https://static.runoob.com/images/mix/img_fjords_wide.jpg">
									<div class="carousel-caption d-none d-md-block">
										<h5>软件工程</h5>
										<p>软件工程描述</p>
									</div>
								</div>
								<div class="carousel-item">
									<img class="d-block w-100" src="https://static.runoob.com/images/mix/img_nature_wide.jpg">
									<div class="carousel-caption d-none d-md-block">
										<h5>...</h5>
										<p>...</p>
									</div>
								</div>
								<div class="carousel-item">
									<img class="d-block w-100" src="https://static.runoob.com/images/mix/img_mountains_wide.jpg">
									<div class="carousel-caption d-none d-md-block">
										<h5>...</h5>
										<p>...</p>
									</div>
								</div>
							</div>
							<!-- 左右切换按钮 -->
							<a class="carousel-control-prev" href="#carouselExampleIndicators" data-slide="prev">
								<span class="carousel-control-prev-icon" aria-hidden="true"></span>
								<span class="sr-only">Previous</span>
							</a>
							<a class="carousel-control-next" href="#carouselExampleIndicators" data-slide="next">
								<span class="carousel-control-next-icon" aria-hidden="true"></span>
								<span class="sr-only">Next</span>
							</a>
						</div>
					</div>
				</div>
				<div id="js-tab2">
					<div class="mdui-col-xs-12" style="padding-right: 0;padding-left: 0;">
						<ul class="mdui-list">
							@for (int i = 0; i < iLearnCourseBoxList.Count; i++)
							{
								string desc = iLearnCourseBoxList[i].Description;
								if (!string.IsNullOrEmpty(iLearnCourseBoxList[i].Description) && iLearnCourseBoxList[i].Description.Length > 15)
								{
									desc = iLearnCourseBoxList[i].Description.Substring(0, 15) + " ...";
								}
								<li class="mdui-list-item mdui-ripple">
									<div class="mdui-list-item-avatar"><img src="https://static.runoob.com/images/mix/img_fjords_wide.jpg" /></div>
									<div class="mdui-list-item-content">
										<div class="mdui-list-item-title">@iLearnCourseBoxList[i].Name</div>
										<div class="mdui-list-item-text mdui-list-item-one-line"><span class="mdui-text-color-theme-text">@iLearnCourseBoxList[i].Creator.Name</span> - @desc</div>
									</div>
								</li>
								if (i < iLearnCourseBoxList.Count - 1)
								{
									<li class="mdui-divider-inset mdui-m-y-0"></li>
								}
							}
						</ul>
					</div>
				</div>
				<div id="js-tab3">
					<div class="mdui-col-xs-12" style="padding-right: 0;padding-left: 0;">
						<ul class="mdui-list">
							@for (int i = 0; i < iCreateCourseBoxList.Count; i++)
							{
								string desc = iCreateCourseBoxList[i].Description;
								if (!string.IsNullOrEmpty(iCreateCourseBoxList[i].Description) && iCreateCourseBoxList[i].Description.Length > 15)
								{
									desc = iCreateCourseBoxList[i].Description.Substring(0, 15) + " ...";
								}
								<li class="mdui-list-item mdui-ripple">
									<div class="mdui-list-item-avatar"><img src="https://static.runoob.com/images/mix/img_fjords_wide.jpg" /></div>
									<div class="mdui-list-item-content">
										<div class="mdui-list-item-title">@iCreateCourseBoxList[i].Name</div>
										<div class="mdui-list-item-text mdui-list-item-one-line"><span class="mdui-text-color-theme-text">@iCreateCourseBoxList[i].Creator.Name</span> - @desc</div>
									</div>
								</li>
								if (i < iCreateCourseBoxList.Count - 1)
								{
									<li class="mdui-divider-inset mdui-m-y-0"></li>
								}
							}
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="/assets/libs/mdui/dist/js/mdui.min.js"></script>
	<script src="/assets/libs/jquery/dist/jquery.min.js"></script>
	<script src="/assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="/assets/libs/senna/build/globals/senna-debug.js"></script>
	<script>
		var $$ = mdui.JQ;
		var app = new senna.App();
		
		$(function () {

			$("#js-refresh").on("click", function () {
				window.location.href = window.location.href;
			});

		});

	</script>
</body>
</html>
